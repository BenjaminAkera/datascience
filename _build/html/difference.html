

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Tests of Difference &mdash; Data Science 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Data Science 0.1 documentation" href="index.html"/>
        <link rel="next" title="5. Tests of Association" href="association.html"/>
        <link rel="prev" title="3. In-Built Datasets" href="datasets.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Data Science
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="general.html">1. General Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="assumptions.html">2. Tests for Assumptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">3. In-Built Datasets</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">4. Tests of Difference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#chi-square-test">4.1. Chi-Square Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#student-s-t-test">4.2. Student&#8217;s T-Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anova">4.3. ANOVA</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="association.html">5. Tests of Association</a></li>
<li class="toctree-l1"><a class="reference internal" href="supervised.html">6. Supervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="unsupervised.html">7. Unsupervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="decomposition.html">8. Time Series Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="forecasting.html">9. Forecasting</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">10. Resources</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Data Science</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>4. Tests of Difference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/difference.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tests-of-difference">
<h1>4. Tests of Difference<a class="headerlink" href="#tests-of-difference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="chi-square-test">
<h2>4.1. Chi-Square Test<a class="headerlink" href="#chi-square-test" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><strong>X, Explantory</strong>: Categorical</li>
<li><strong>Y, Response</strong>: Categorical</li>
<li><strong>Type</strong>: Non-Parametric</li>
</ul>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span>print &#39;chi-square statistic, p-value, expected counts&#39;
print ss.chi2_contingency(ct1)

chi-square statistic, p-value, expected counts
(1263.6306705804054, 2.554837585615145e-272, 4, array([[  7.74251477e+03,   1.71950205e+03,   3.69930718e+02,
          4.25495413e+01,   2.50291420e+00],
       [  7.72448523e+03,   1.71549795e+03,   3.69069282e+02,
          4.24504587e+01,   2.49708580e+00]]))
</pre></div>
</div>
</div>
<div class="section" id="student-s-t-test">
<h2>4.2. Student&#8217;s T-Test<a class="headerlink" href="#student-s-t-test" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><strong>Type</strong>: Parametric</li>
</ul>
</div>
</div>
<div class="section" id="anova">
<h2>4.3. ANOVA<a class="headerlink" href="#anova" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><strong>Type</strong>: Parametric</li>
</ul>
</div>
<p>Analysis of Variance (ANOVA). X, or independent variable can be continuous or categorical.
Can input mutiple factors (x).</p>
<p><strong>Categorical Independent Variable</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span>#### IMPORT MOUDLES ####
import numpy as np
import pandas as pd
import statsmodels.formula.api as smf
import statsmodels.stats.multicomp as multi



#### FIT MODEL ####
# response~explanatory OR x~y, &#39;C&#39; refers to categorical variable
# ANOVA for multiple factors
model = smf.ols(formula=&#39;diameter ~ C(layers)&#39;, data=df3)
results = model.fit()
&gt;&gt;&gt; print results.summary()


OLS Regression Results
==============================================================================
Dep. Variable:               diameter   R-squared:                       0.219
Model:                            OLS   Adj. R-squared:                  0.219
Method:                 Least Squares   F-statistic:                     1383.
Date:                Tue, 02 Aug 2016   Prob (F-statistic):               0.00
Time:                        17:04:57   Log-Likelihood:                -60976.
No. Observations:               19731   AIC:                         1.220e+05
Df Residuals:                   19726   BIC:                         1.220e+05
Df Model:                           4
Covariance Type:            nonrobust
==================================================================================
coef    std err          t      P&gt;|t|      [95.0% Conf. Int.]
----------------------------------------------------------------------------------
Intercept          6.7217      0.043    157.125      0.000         6.638     6.806
C(layers)[T.2]     3.3941      0.100     33.822      0.000         3.197     3.591
C(layers)[T.3]    12.2841      0.200     61.319      0.000        11.891    12.677
C(layers)[T.4]    18.3139      0.579     31.649      0.000        17.180    19.448
C(layers)[T.5]    21.8123      2.380      9.166      0.000        17.148    26.477
==============================================================================
Omnibus:                    14916.319   Durbin-Watson:                   0.529
Prob(Omnibus):                  0.000   Jarque-Bera (JB):           577157.627
Skew:                           3.262   Prob(JB):                         0.00
Kurtosis:                      28.680   Cond. No.                         64.0
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.




#### POST-HOC TEST ####
mc = multi.MultiComparison(df3[&#39;diameter&#39;],df3[&#39;layers&#39;])
result1 = mc.tukeyhsd()
print result1


Multiple Comparison of Means - Tukey HSD,FWER=0.05
=============================================
group1 group2 meandiff  lower   upper  reject
---------------------------------------------
  1      2     3.3941   3.1204  3.6679  True
  1      3    12.2841  11.7376 12.8306  True
  1      4    18.3139  16.7353 19.8925  True
  1      5    21.8123  15.3204 28.3041  True
  2      3      8.89    8.3015  9.4785  True
  2      4    14.9198  13.3262 16.5134  True
  2      5    18.4181  11.9226 24.9137  True
  3      4     6.0298   4.3675  7.6921  True
  3      5     9.5281   3.0154 16.0409  True
  4      5     3.4984  -3.1806 10.1773 False
---------------------------------------------
</pre></div>
</div>
<p><strong>Multiple Factors</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span>reg2 = smf.ols(&#39;depth~diameter_new+layers+lat+long&#39;,data=df3).fit()
print reg2.summary()



OLS Regression Results
==============================================================================
Dep. Variable:                  depth   R-squared:                       0.518
Model:                            OLS   Adj. R-squared:                  0.518
Method:                 Least Squares   F-statistic:                     4856.
Date:                Wed, 03 Aug 2016   Prob (F-statistic):               0.00
Time:                        17:58:20   Log-Likelihood:                -1393.4
No. Observations:               18067   AIC:                             2797.
Df Residuals:                   18062   BIC:                             2836.
Df Model:                           4
Covariance Type:            nonrobust
================================================================================
coef    std err          t      P&gt;|t|      [95.0% Conf. Int.]
--------------------------------------------------------------------------------
Intercept        0.5112      0.005     94.795      0.000         0.501     0.522
diameter_new     0.0438      0.000    122.136      0.000         0.043     0.045
layers           0.0061      0.004      1.555      0.120        -0.002     0.014
lat             -0.0007    5.3e-05    -13.557      0.000        -0.001    -0.001
long             0.0001   1.93e-05      7.131      0.000      9.97e-05     0.000
==============================================================================
Omnibus:                      598.651   Durbin-Watson:                   1.078
Prob(Omnibus):                  0.000   Jarque-Bera (JB):             1210.720
Skew:                          -0.234   Prob(JB):                    1.25e-263
Kurtosis:                       4.179   Cond. No.                         342.
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="association.html" class="btn btn-neutral float-right" title="5. Tests of Association" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="datasets.html" class="btn btn-neutral" title="3. In-Built Datasets" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Jake Teo.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>